#!/usr/bin/env ruby
require 'driller/version'
require 'fileutils'
require "rubygems"


def drill_website(url)
  Driller::Crawler(url)
end

def print_usage
  puts <<EOF

  Usage: driller <command-name> [parameters] [options]

  <command-name> can be one of
    help
      prints more detailed help information.
    url
      crawl the url and reports error pages and slow paged.
    version
      prints the gem version

  <options> can be
     -v, --verbose   Turns on verbose logging
EOF
end

def print_help
  puts <<EOF

  Usage: driller <command-name>

  <command-name> can be one of
    help
    url
    version

    Commands:
      help : prints more detailed help information.

      url  : crawl the url and reports error pages and slow paged.

      version : prints the gem version

  <Options>
      -v, --verbose  Turns on verbose logging
EOF
end


if (ARGV.length == 0)
  print_usage
else
	cmd = ARGV.shift
	if cmd == "help"
  		print_help
	elsif cmd == "url"
      drill_website(ARGV[1])
	elsif cmd == "version"
		puts Driller::VERSION
  	else
  		print_usage
	end
end
